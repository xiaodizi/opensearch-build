---
schema-version: '1.0'
build:
  name: RatuDB
  version: 2.2.2
ci:
  image:
    name: opensearchstaging/ci-runner:ci-runner-centos7-opensearch-build-v3
    args: -e JAVA_HOME=/Users/lei.fu/java/jdk-11.0.18.jdk/
components:
  - name: RatuDB
    repository: ssh://git@gitlab.ratu.ltd:30022/operation-ratudb/ratudb.git
    ref: 2.2.2
    checks:
      - gradle:publish
      - gradle:properties:version
  - name: job-scheduler
    repository: ssh://git@gitlab.ratu.ltd:30022/operation-ratudb/job-scheduler.git
    ref: master
    platforms:
      - darwin
      - linux
    checks:
      - gradle:properties:'2.2.2-SNAPSHOT'
      - gradle:dependencies:'2.2.2-SNAPSHOT'
  - name: index-management
    repository: ssh://git@gitlab.ratu.ltd:30022/operation-ratudb/index-management.git
    ref: master
    platforms:
      - darwin
      - linux
    checks:
      - gradle:properties:'2.2.2-SNAPSHOT'
      - gradle:dependencies:'2.2.2-SNAPSHOT'
  - name: k-nn
    repository: git@github.com:xiaodizi/k-NN.git
    ref: main
    platforms:
      - linux
    checks:
      - gradle:properties:'2.2.2-SNAPSHOT'
      - gradle:dependencies:'2.2.2-SNAPSHOT'
